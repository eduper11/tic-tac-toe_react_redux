(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{15:function(e,t,n){e.exports=n(27)},20:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),i=(n(20),n(2)),u=["O","X"],l=0,s=1,d=n(10),f=n(11),m=function(e){return e.map((function(e,t){return[e,t]})).filter((function(e){return"-"===e[0]}))},b=function(e){return m(e).length>0},p=function(e,t){return e+Math.floor(Math.random()*(t-e))},E=function(e,t,n){return[].concat(Object(d.a)(e.slice(0,t)),[n],Object(d.a)(e.slice(t+1,e.length)))},O=function(e){var t=m(e);return t.length>0?t[p(0,t.length)][1]:null},v=function e(t,n,a,r){var c=function(e,t){for(var n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],a=0;a<n.length;a++){var r=Object(f.a)(n[a],3),c=r[0],o=r[1],i=r[2];if("-"!==e[c]&&e[c]===e[o]&&e[c]===e[i])return e[c]===t?10:-10}return 0}(t,a);if(10===c)return c-n;if(-10===c)return c+n;if(!b(t))return 0;var o,i=t.length;if(r){o=-1e3;for(var u=0;u<i;u++){if("-"===t[u]){var l=E(t,u,a);o=Math.max(o,e(l,n+1,a,!r))}}}else{o=1e3;for(var s=0;s<i;s++){if("-"===t[s]){var d=E(t,s,1-a);o=Math.min(o,e(d,n+1,a,!r))}}}return o},T=function(e,t){var n=function(e,t){for(var n=-1e3,a=null,r=e.length,c=0;c<r;c++){if("-"===e[c]){var o=E(e,c,t),i=v(o,0,t,!1);i>n&&(n=i,a=c)}}return a}(e,t);if(null!==n&&"-"===e[n])return n},h=n(3),j=n(14),y=n(1),_={matchId:"",boardState:["-","-","-","-","-","-","-","-","-"],lastMove:{char:null,position:"",board:["-","-","-","-","-","-","-","-","-"]},currentIcon:p(0,2),playerTurn:p(0,2),gameState:{position:"",icon:null,isTie:null}},S=Object(h.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ID":return Object(y.a)(Object(y.a)({},e),{},{matchId:t.payload});case"SET_BOARD_STATE":return Object(y.a)(Object(y.a)({},e),{},{lastMove:{char:t.payload.estado.currentIcon,board:t.payload.estado.boardState,position:t.payload.index}});case"HUMAN_ACTION":var n=e.lastMove.board;return Object(y.a)(Object(y.a)(Object(y.a)({},e),e.boardState[t.payload]=e.currentIcon),{},{lastMove:Object(y.a)(Object(y.a)({},e.lastMove),{},{board:n}),currentIcon:0===e.currentIcon?1:0,playerTurn:s});case"CHANGE_GAME_TYPE":return Object(y.a)(Object(y.a)({},e),{},{gameType:t.payload});case"RESET_GAME":return{matchId:"",boardState:["-","-","-","-","-","-","-","-","-"],lastMove:{char:null,position:"",board:["-","-","-","-","-","-","-","-","-"]},currentIcon:p(0,2),playerTurn:p(0,2),gameState:{position:"",icon:null,isTie:null}};case"CPU_ACTION":return Object(y.a)(Object(y.a)(Object(y.a)({},e),e.boardState[t.payload]=e.currentIcon),{},{lastMove:Object(y.a)(Object(y.a)({},e.lastMove),{},{board:e.boardState}),currentIcon:0===e.currentIcon?1:0,playerTurn:l});case"GAME_UPDATE":return Object(y.a)(Object(y.a)({},e),{},{gameState:{position:t.payload.position,icon:t.payload.iconType,isTie:t.payload.isTie}});case"REVERT_MOVE":return Object(y.a)(Object(y.a)({},e),{},{boardState:e.lastMove.board,currentIcon:e.lastMove.char,playerTurn:l});default:return e}}),Object(h.c)(Object(h.a)(j.a),"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),g=n(29),I=S.getState();var N=function(e,t){return{type:"SET_BOARD_STATE",payload:{estado:e,index:t}}},w=function(e){return{type:"SET_ID",payload:e}},M=function(e){return{type:"HUMAN_ACTION",payload:e}};var A=function(e){return{type:"CPU_ACTION",payload:e}};function x(e){return function(t){var n=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var a=Object(f.a)(t[n],3),r=a[0],c=a[1],o=a[2];if("-"!==e[r]&&e[r]===e[c]&&e[r]===e[o])return{position:n>=0&&n<=2?"h h".concat(n):n>=3&&n<=5?"v v".concat(n-3):"d".concat(n-6),iconType:e[r],isTie:null}}return{position:"",iconType:null,isTie:!b(e)||null}}(e);t({type:"GAME_UPDATE",payload:n})}}var C=function(e){var t=e.index,n=Object(i.c)((function(e){return e.boardState[t]})),a="-"!==n?u[n]:"I",c="I"!==a?"done":"",o=Object(i.c)((function(e){return e.playerTurn})),s=Object(i.c)((function(e){return e.gameState.position})),d=Object(i.b)(),f=function(e){return d(function(e){return function(t){""===I.matchId&&w(Object(g.a)()),t(N(I,e)),t(M(e)),""===I.gameState.position&&setTimeout((function(){var e=S.getState(),n=e.boardState,a=e.currentIcon,r=T(n,a);t(A(r))}),1e3)}}(e))};return r.a.createElement("button",{className:"cell cell-".concat(t," ").concat(c),onClick:"-"===n&&o===l&&""===s?function(){return f(t)}:function(){}},a)},D=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.gameState.position})),n=Object(i.c)((function(e){return e.boardState})),c=Object(i.c)((function(e){return e.playerTurn}));return e(x(n)),Object(a.useEffect)((function(){c===s&&e(function(e){var t=O(e);return function(e){e(A(t))}}(n))}),[]),r.a.createElement("div",{className:"board ".concat(t," ").concat(""!==t?"full":"")},r.a.createElement("div",{className:"board-row"},r.a.createElement(C,{index:0}),r.a.createElement(C,{index:1}),r.a.createElement(C,{index:2})),r.a.createElement("div",{className:"board-row"},r.a.createElement(C,{index:3}),r.a.createElement(C,{index:4}),r.a.createElement(C,{index:5})),r.a.createElement("div",{className:"board-row"},r.a.createElement(C,{index:6}),r.a.createElement(C,{index:7}),r.a.createElement(C,{index:8})))},U=function(){var e="",t=Object(i.c)((function(e){return e.gameState.isTie})),n=Object(i.c)((function(e){return e.gameState.position})),a=Object(i.c)((function(e){return e.playerTurn}));return e=t?"Tie!":""!==n&&a===s?"You win!":""!==n&&a===l?"CPU win!":a===s?"It's CPU":"It\xb4s your turn",r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"info"},e),r.a.createElement(D,null),r.a.createElement("div",{className:"game-info"}))},k=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.boardState}));Object(i.c)((function(e){return e.playerTurn}));return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__title"},"Tic Tac Toe"),r.a.createElement("div",{className:"header__container--new-game"},r.a.createElement("button",{className:"header__new-game",onClick:function(){return e(function(e){return function(t){if(t({type:"RESET_GAME"}),S.getState().playerTurn===s){var n=O(e);t(A(n))}}}(t))}},"New Game")))},G=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("a",{className:"footer__link",href:"https://github.com/eduper11/tic-tac-toe_react_redux",target:"_blank",rel:"noreferrer noopener"},"Github"))};var R=function(){return r.a.createElement(i.a,{store:S},r.a.createElement("div",{className:"app"},r.a.createElement(k,null),r.a.createElement(U,null),r.a.createElement(G,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.411d5186.chunk.js.map