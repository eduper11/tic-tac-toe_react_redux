{"version":3,"sources":["utils/types.js","utils/helpers.js","reducers/humanReducer.js","store.js","types/index.js","actions/humanAction.js","components/Main/components/Cell/Cell.js","components/Main/components/Board/Board.js","components/Main/Main.js","components/Header/Header.js","components/Footer/Footer.js","App.js","serviceWorker.js","index.js"],"names":["ICON_CHARS","PLAYER_TURNS","getEmptyCells","cells","map","val","idx","filter","item","isMoveLeft","length","getRandom","start","end","Math","floor","random","replace","index","value","slice","findRandomMove","emptyCells","minimax","depth","computerType","isMax","score","lines","i","a","b","c","evaluate","best","lengthCells","nextCells","max","min","makeAIMove","board","icon","bestMove","bestVal","moveVal","findBestMove","initialState","matchId","boardState","lastMove","char","position","currentIcon","playerTurn","gameState","isTie","store","createStore","state","action","type","payload","estado","lastBoard","gameType","iconType","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","f","getState","setGameState","setId","uuid","humanMove","printCPUMove","updateGameState","dispatch","checkGameState","Cell","useSelector","isDoneClass","useDispatch","humanPlay","uuidv4","setTimeout","cpuIndex","humanClick","className","onClick","Board","useEffect","initGame","Main","textInfo","Header","resetGame","Footer","href","target","rel","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.b5cfeab7.chunk.js","sourcesContent":["export const GAME_TYPES = {\r\n    TWO_PLAYERS: 'two_players',\r\n    VS_CPU: 'vs_cpu',\r\n};\r\n\r\nexport const ICON_TYPES = {\r\n    O: 0,\r\n    X: 1,\r\n};\r\n\r\nexport const ICON_CHARS = ['O', 'X'];\r\n\r\nexport const PLAYER_TURNS = {\r\n    HUMAN: 0,\r\n    CPU: 1,\r\n};\r\n","const getEmptyCells = (cells) => {\r\n    return cells\r\n        .map((val, idx) => [val, idx])\r\n        .filter((item) => item[0] === '-');\r\n};\r\n\r\nconst isMoveLeft = (cells) => {\r\n    const emptyCells = getEmptyCells(cells);\r\n    return emptyCells.length > 0;\r\n};\r\n\r\nexport const checkGameState = (board) => {\r\n    const lines = [\r\n        [0, 1, 2], // h.h0\r\n        [3, 4, 5], // h.h1\r\n        [6, 7, 8], // h.h2\r\n        [0, 3, 6], // v.v0\r\n        [1, 4, 7], // v.v1\r\n        [2, 5, 8], // v.v2\r\n        [0, 4, 8], // d.d0\r\n        [2, 4, 6], // d.d1\r\n    ];\r\n\r\n    let position = '';\r\n\r\n    for (let i = 0; i < lines.length; i++) {\r\n        const [a, b, c] = lines[i];\r\n\r\n        if (\r\n            board[a] !== '-' &&\r\n            board[a] === board[b] &&\r\n            board[a] === board[c]\r\n        ) {\r\n            if (i >= 0 && i <= 2) position = `h h${i}`;\r\n            else if (i >= 3 && i <= 5) position = `v v${i - 3}`;\r\n            else position = `d${i - 6}`;\r\n\r\n            return {\r\n                position,\r\n                iconType: board[a],\r\n                isTie: null,\r\n            };\r\n        }\r\n    }\r\n\r\n    return {\r\n        position: '',\r\n        iconType: null,\r\n        isTie: isMoveLeft(board) ? null : true,\r\n    };\r\n};\r\n\r\nexport const getRandom = (start, end) => {\r\n    return start + Math.floor(Math.random() * (end - start));\r\n};\r\n\r\nconst replace = (cells, index, value) => {\r\n    return [\r\n        ...cells.slice(0, index),\r\n        value,\r\n        ...cells.slice(index + 1, cells.length),\r\n    ];\r\n};\r\n\r\n/**\r\n * Random move\r\n */\r\nexport const findRandomMove = (cells) => {\r\n    const emptyCells = getEmptyCells(cells);\r\n\r\n    if (emptyCells.length > 0) {\r\n        const randomNum = getRandom(0, emptyCells.length);\r\n        const index = emptyCells[randomNum][1];\r\n\r\n        return index;\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n/**\r\n * Find best move based on Minimax algorithm\r\n */\r\nconst evaluate = (cells, computerType) => {\r\n    const lines = [\r\n        [0, 1, 2], // h.h0\r\n        [3, 4, 5], // h.h1\r\n        [6, 7, 8], // h.h2\r\n        [0, 3, 6], // v.v0\r\n        [1, 4, 7], // v.v1\r\n        [2, 5, 8], // v.v2\r\n        [0, 4, 8], // d.d0\r\n        [2, 4, 6], // d.d1\r\n    ];\r\n\r\n    for (let i = 0; i < lines.length; i++) {\r\n        const [a, b, c] = lines[i];\r\n\r\n        if (\r\n            cells[a] !== '-' &&\r\n            cells[a] === cells[b] &&\r\n            cells[a] === cells[c]\r\n        ) {\r\n            if (cells[a] === computerType) return 10;\r\n            return -10;\r\n        }\r\n    }\r\n\r\n    return 0;\r\n};\r\n\r\n//minimax function that returns scores for diferent AI moves\r\n\r\nconst minimax = (cells, depth, computerType, isMax) => {\r\n    const score = evaluate(cells, computerType);\r\n    // If Maximizer has won the game return his/her evaluated score\r\n    if (score === 10) return score - depth;\r\n\r\n    // If Minimizer has won the game return his/her evaluated score\r\n    if (score === -10) return score + depth;\r\n\r\n    // If there are no more moves and no winner then it is a tie\r\n    if (!isMoveLeft(cells)) return 0;\r\n\r\n    const lengthCells = cells.length;\r\n    let best;\r\n\r\n    // If this maximizer's move\r\n    if (isMax) {\r\n        best = -1000;\r\n\r\n        for (let i = 0; i < lengthCells; i++) {\r\n            const cell = cells[i];\r\n\r\n            if (cell === '-') {\r\n                // Make a move\r\n                const nextCells = replace(cells, i, computerType);\r\n\r\n                // Call minimax recursively and choose the maximum value\r\n                best = Math.max(\r\n                    best,\r\n                    minimax(nextCells, depth + 1, computerType, !isMax),\r\n                );\r\n            }\r\n        }\r\n    } else {\r\n        best = 1000;\r\n\r\n        for (let i = 0; i < lengthCells; i++) {\r\n            const cell = cells[i];\r\n\r\n            if (cell === '-') {\r\n                // Make a move\r\n                const nextCells = replace(cells, i, 1 - computerType);\r\n\r\n                // Call minimax recursively and choose the minimum value\r\n                best = Math.min(\r\n                    best,\r\n                    minimax(nextCells, depth + 1, computerType, !isMax),\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    return best;\r\n};\r\n\r\n//Find the best move for computer player\r\nexport const findBestMove = (cells, computerType) => {\r\n    let bestVal = -1000;\r\n    let bestMove = null;\r\n\r\n    const lengthCells = cells.length;\r\n\r\n    for (let i = 0; i < lengthCells; i++) {\r\n        const cell = cells[i];\r\n\r\n        if (cell === '-') {\r\n            // Make a move\r\n            const nextCells = replace(cells, i, computerType);\r\n            // Compute evaluation function for this move.\r\n            const moveVal = minimax(nextCells, 0, computerType, false);\r\n            // If the value of the current move is more than the best value, then update best\r\n            if (moveVal > bestVal) {\r\n                bestVal = moveVal;\r\n                bestMove = i;\r\n            }\r\n        }\r\n    }\r\n\r\n    return bestMove;\r\n};\r\n\r\nexport const makeAIMove = (board, icon) => {\r\n    const bestMove = findBestMove(board, icon);\r\n\r\n    if (bestMove !== null && board[bestMove] === '-') {\r\n        return bestMove;\r\n    }\r\n};\r\n","import {\r\n    HUMAN_ACTION,\r\n    CHANGE_GAME_TYPE,\r\n    RESET_GAME,\r\n    CPU_ACTION,\r\n    GAME_UPDATE,\r\n    REVERT_MOVE,\r\n    SET_ID,\r\n    SET_BOARD_STATE,\r\n} from '../types';\r\nimport {\r\n    // GAME_TYPES,\r\n    PLAYER_TURNS,\r\n} from '../utils/types';\r\nimport { getRandom } from '../utils/helpers';\r\n\r\nconst initialState = {\r\n    matchId: '',\r\n    boardState: [\r\n        '-',\r\n        '-',\r\n        '-', // first row, positions 0, 1, 2\r\n        '-',\r\n        '-',\r\n        '-', // second row, positions 3, 4, 5\r\n        '-',\r\n        '-',\r\n        '-',\r\n    ],\r\n    lastMove: {\r\n        char: null, // char one of [1, 0], required\r\n        position: '', // number from 0 to 8, required\r\n        board: [\r\n            '-',\r\n            '-',\r\n            '-', // first row, positions 0, 1, 2\r\n            '-',\r\n            '-',\r\n            '-', // second row, positions 3, 4, 5\r\n            '-',\r\n            '-',\r\n            '-',\r\n        ],\r\n    },\r\n    currentIcon: getRandom(0, 2),\r\n    playerTurn: getRandom(0, 2),\r\n    gameState: {\r\n        position: '',\r\n        icon: null,\r\n        isTie: null,\r\n    },\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case SET_ID:\r\n            return {\r\n                ...state,\r\n                matchId: action.payload,\r\n            };\r\n\r\n        case SET_BOARD_STATE:\r\n            return {\r\n                ...state,\r\n                lastMove: {\r\n                    char: action.payload.estado.currentIcon,\r\n                    board: action.payload.estado.boardState,\r\n                    position: action.payload.index,\r\n                },\r\n            };\r\n        case HUMAN_ACTION:\r\n            const lastBoard = state.lastMove.board;\r\n            return {\r\n                ...state,\r\n                ...(state.boardState[action.payload] = state.currentIcon),\r\n                lastMove: {\r\n                    ...state.lastMove,\r\n                    board: lastBoard,\r\n                },\r\n                currentIcon: state.currentIcon === 0 ? 1 : 0,\r\n                playerTurn: PLAYER_TURNS.CPU,\r\n            };\r\n\r\n        case CHANGE_GAME_TYPE:\r\n            return {\r\n                ...state,\r\n                gameType: action.payload,\r\n            };\r\n        case RESET_GAME:\r\n            return {\r\n                matchId: '',\r\n                boardState: [\r\n                    '-',\r\n                    '-',\r\n                    '-', // first row, positions 0, 1, 2\r\n                    '-',\r\n                    '-',\r\n                    '-', // second row, positions 3, 4, 5\r\n                    '-',\r\n                    '-',\r\n                    '-',\r\n                ],\r\n                lastMove: {\r\n                    char: null, // char one of ['o','x'], required\r\n                    position: '', // number from 0 to 8, required\r\n                    board: [\r\n                        '-',\r\n                        '-',\r\n                        '-', // first row, positions 0, 1, 2\r\n                        '-',\r\n                        '-',\r\n                        '-', // second row, positions 3, 4, 5\r\n                        '-',\r\n                        '-',\r\n                        '-',\r\n                    ],\r\n                },\r\n                currentIcon: getRandom(0, 2),\r\n                playerTurn: getRandom(0, 2),\r\n                gameState: {\r\n                    position: '',\r\n                    icon: null,\r\n                    isTie: null,\r\n                },\r\n            };\r\n        case CPU_ACTION:\r\n            // const lastBoardCPU = state.lastMove.board;\r\n            return {\r\n                ...state,\r\n                ...(state.boardState[action.payload] = state.currentIcon),\r\n                // ...(lastBoardCPU[action.payload] = state.currentIcon),\r\n                lastMove: {\r\n                    ...state.lastMove,\r\n                    board: state.boardState,\r\n                },\r\n                currentIcon: state.currentIcon === 0 ? 1 : 0,\r\n                playerTurn: PLAYER_TURNS.HUMAN,\r\n            };\r\n        case GAME_UPDATE:\r\n            return {\r\n                ...state,\r\n                gameState: {\r\n                    position: action.payload.position,\r\n                    icon: action.payload.iconType,\r\n                    isTie: action.payload.isTie,\r\n                },\r\n            };\r\n        case REVERT_MOVE: {\r\n            return {\r\n                ...state,\r\n                boardState: state.lastMove.board,\r\n                currentIcon: state.lastMove.char,\r\n                playerTurn: PLAYER_TURNS.HUMAN,\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { reducer } from './reducers';\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    compose(\r\n        applyMiddleware(thunk),\r\n\r\n        typeof window === 'object' &&\r\n            typeof window.__REDUX_DEVTOOLS_EXTENSION__ !== 'undefined'\r\n            ? window.__REDUX_DEVTOOLS_EXTENSION__()\r\n            : (f) => f,\r\n    ),\r\n);\r\n\r\nexport default store;\r\n","export const HUMAN_ACTION = 'HUMAN_ACTION';\r\nexport const CHANGE_GAME_TYPE = 'CHANGE_GAME_TYPE';\r\nexport const RESET_GAME = 'RESET_GAME';\r\nexport const CPU_ACTION = 'CPU_ACTION';\r\nexport const GAME_UPDATE = 'GAME_UPDATE';\r\nexport const REVERT_MOVE = 'REVERT_MOVE';\r\nexport const SET_ID = 'SET_ID';\r\nexport const SET_BOARD_STATE = 'SET_BOARD_STATE';\r\n","import {\r\n    HUMAN_ACTION,\r\n    CHANGE_GAME_TYPE,\r\n    RESET_GAME,\r\n    CPU_ACTION,\r\n    GAME_UPDATE,\r\n    REVERT_MOVE,\r\n    SET_ID,\r\n    SET_BOARD_STATE,\r\n} from '../types/index';\r\nimport { checkGameState, makeAIMove, findRandomMove } from '../utils/helpers';\r\nimport store from '../store';\r\nimport { PLAYER_TURNS } from '../utils/types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst state = store.getState();\r\n\r\nexport function humanClick(index) {\r\n    return (dispatch) => {\r\n        //init with unique uuid\r\n        if (state.matchId === '') {\r\n            setId(uuidv4());\r\n        }\r\n\r\n        dispatch(setGameState(state, index));\r\n        //send info to cell and update state\r\n        dispatch(humanMove(index));\r\n        //calcular siguiente movimiento de la cpu (si no hay victoria de ningún jugador)\r\n        if (state.gameState.position === '') {\r\n            setTimeout(() => {\r\n                let { boardState, currentIcon } = store.getState();\r\n                const cpuIndex = makeAIMove(boardState, currentIcon);\r\n                dispatch(printCPUMove(cpuIndex));\r\n            }, 1000);\r\n        }\r\n    };\r\n}\r\n\r\nconst setGameState = (estado, index) => ({\r\n    type: SET_BOARD_STATE,\r\n    payload: { estado, index },\r\n});\r\n\r\nconst setId = (uuid) => ({\r\n    type: SET_ID,\r\n    payload: uuid,\r\n});\r\n\r\nconst humanMove = (index) => ({\r\n    type: HUMAN_ACTION,\r\n    payload: index,\r\n});\r\n\r\nexport function changeGameType(gameType) {\r\n    return (dispatch) => {\r\n        dispatch({ type: CHANGE_GAME_TYPE, payload: gameType });\r\n    };\r\n}\r\n\r\nexport function resetGame(board) {\r\n    return (dispatch) => {\r\n        //reset of the board\r\n        dispatch({ type: RESET_GAME });\r\n\r\n        const { playerTurn } = store.getState();\r\n        //if its cpu turn, cpu play\r\n        if (playerTurn === PLAYER_TURNS.CPU) {\r\n            const index = findRandomMove(board);\r\n            dispatch(printCPUMove(index));\r\n        }\r\n    };\r\n}\r\n\r\nconst printCPUMove = (idx) => ({ type: CPU_ACTION, payload: idx });\r\n\r\nconst printUpdateGameState = (gState) => {\r\n    return {\r\n        type: GAME_UPDATE,\r\n        payload: gState,\r\n    };\r\n};\r\n\r\nexport function updateGameState(board) {\r\n    return (dispatch) => {\r\n        const gameState = checkGameState(board);\r\n\r\n        dispatch(printUpdateGameState(gameState));\r\n    };\r\n}\r\n\r\nexport function initGame(board) {\r\n    const index = findRandomMove(board);\r\n\r\n    return (dispatch) => {\r\n        dispatch(printCPUMove(index));\r\n    };\r\n}\r\n\r\nexport function revertMove() {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: REVERT_MOVE,\r\n        });\r\n    };\r\n}\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { humanClick } from '../../../../actions/humanAction';\r\nimport { ICON_CHARS, PLAYER_TURNS } from '../../../../utils/types';\r\n\r\nconst ICON_PLACEHOLDER = 'I';\r\n\r\nconst Cell = ({ index }) => {\r\n    const value = useSelector((state) => state.boardState[index]);\r\n    const icon = value !== '-' ? ICON_CHARS[value] : ICON_PLACEHOLDER;\r\n    const isDoneClass = icon !== ICON_PLACEHOLDER ? 'done' : '';\r\n    const playerTurn = useSelector((state) => state.playerTurn);\r\n    const position = useSelector((state) => state.gameState.position);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const humanPlay = (index) => dispatch(humanClick(index));\r\n\r\n    return (\r\n        <button\r\n            className={`cell cell-${index} ${isDoneClass}`}\r\n            onClick={\r\n                value === '-' &&\r\n                playerTurn === PLAYER_TURNS.HUMAN &&\r\n                position === ''\r\n                    ? () => humanPlay(index)\r\n                    : () => {}\r\n            }\r\n        >\r\n            {icon}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default Cell;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { updateGameState, initGame } from '../../../../actions/humanAction';\r\nimport { PLAYER_TURNS } from '../../../../utils/types';\r\nimport Cell from '../Cell/Cell';\r\n\r\nconst Board = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const position = useSelector((state) => state.gameState.position);\r\n    const board = useSelector((state) => state.boardState);\r\n    const playerTurn = useSelector((state) => state.playerTurn);\r\n\r\n    dispatch(updateGameState(board));\r\n\r\n    useEffect(() => {\r\n        if (playerTurn === PLAYER_TURNS.CPU) {\r\n            dispatch(initGame(board));\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div className={`board ${position} ${position !== '' ? 'full' : ''}`}>\r\n            <div className='board-row'>\r\n                <Cell index={0} />\r\n                <Cell index={1} />\r\n                <Cell index={2} />\r\n            </div>\r\n\r\n            <div className='board-row'>\r\n                <Cell index={3} />\r\n                <Cell index={4} />\r\n                <Cell index={5} />\r\n            </div>\r\n\r\n            <div className='board-row'>\r\n                <Cell index={6} />\r\n                <Cell index={7} />\r\n                <Cell index={8} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Board;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { PLAYER_TURNS } from '../../utils/types';\r\n// import { revertMove } from '../../actions/humanAction';\r\nimport Board from './components/Board/Board';\r\n\r\nconst Main = () => {\r\n    // const dispatch = useDispatch();\r\n\r\n    let textInfo = '';\r\n\r\n    const isTie = useSelector((state) => state.gameState.isTie);\r\n    const position = useSelector((state) => state.gameState.position);\r\n    const playerTurn = useSelector((state) => state.playerTurn);\r\n    // const lastMove = useSelector((state) => state.lastMove);\r\n\r\n    if (isTie) {\r\n        textInfo = 'Tie!';\r\n    } else {\r\n        if (position !== '' && playerTurn === PLAYER_TURNS.CPU) {\r\n            textInfo = 'You win!';\r\n        } else if (position !== '' && playerTurn === PLAYER_TURNS.HUMAN) {\r\n            textInfo = 'CPU win!';\r\n        } else if (playerTurn === PLAYER_TURNS.CPU) {\r\n            textInfo = `It's CPU`;\r\n        } else {\r\n            textInfo = 'It´s your turn';\r\n        }\r\n    }\r\n    return (\r\n        <main className='main'>\r\n            <div className='info'>{textInfo}</div>\r\n            <Board />\r\n            <div className='game-info'>\r\n                {/* {lastMove.position !== '' &&\r\n                playerTurn === PLAYER_TURNS.HUMAN ? (\r\n                    <p className='game-info__text'>\r\n                        If you want to revert your last move...\r\n                        <button\r\n                            type='button'\r\n                            className='game-info__button'\r\n                            onClick={() => {\r\n                                dispatch(revertMove());\r\n                            }}\r\n                        >\r\n                            Click here\r\n                        </button>\r\n                    </p>\r\n                ) : (\r\n                    ''\r\n                )} */}\r\n            </div>\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { resetGame } from '../../actions/humanAction';\r\n// import ButtonGameType from './components/Button';\r\n\r\nconst Header = () => {\r\n    const dispatch = useDispatch();\r\n    const board = useSelector((state) => state.boardState);\r\n    const playerTurn = useSelector((state) => state.playerTurn);\r\n    // const changeGType = (gameType) => dispatch(changeGameType(gameType));\r\n\r\n    return (\r\n        <header className='header'>\r\n            <h1 className='header__title'>Tic Tac Toe</h1>\r\n            {/* <ul className='header__player-selector'>\r\n                <ButtonGameType\r\n                    value={GAME_TYPES.TWO_PLAYERS}\r\n                    name='2 Players'\r\n                    onClick={() => changeGType(GAME_TYPES.TWO_PLAYERS)}\r\n                    gameType={gameType}\r\n                />\r\n                <ButtonGameType\r\n                    value={GAME_TYPES.VS_CPU}\r\n                    name='Versus Computer'\r\n                    onClick={() => changeGType(GAME_TYPES.VS_CPU)}\r\n                    gameType={gameType}\r\n                />\r\n            </ul> */}\r\n            <div className='header__container--new-game'>\r\n                <button\r\n                    className='header__new-game'\r\n                    onClick={() => dispatch(resetGame(board, playerTurn))}\r\n                >\r\n                    New Game\r\n                </button>\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className='footer'>\r\n            <a\r\n                className='footer__link'\r\n                href='https://github.com/eduper11/tic-tac-toe_react_redux'\r\n                target='_blank'\r\n                rel='noreferrer noopener'\r\n            >\r\n                Github\r\n            </a>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\nimport './styles/index.scss';\nimport Main from './components/Main/Main';\nimport Header from './components/Header/Header';\nimport Footer from './components/Footer/Footer';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nfunction App() {\n    return (\n        <Provider store={store}>\n            <div className='app'>\n                <Header />\n                <Main />\n                <Footer />\n            </div>\n        </Provider>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}